<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="Lo-Fi Player" />
    <meta property="og:description" content="Interactive lofi beat player." />
    <meta
      property="og:image"
      content="https://vibertthio.com/lofi-player/assets/screenshot_v.0.5.png"
    />
    <meta property="og:url" content="https://vibertthio.com/lofi-player/" />
    <meta name="twitter:card" content="summary_large_image" />

    <!--  Non-Essential, But Recommended -->

    <meta property="og:site_name" content="Lo-Fi Player" />
    <meta name="twitter:image:alt" content="interactive lofi room" />

    <title>Lo-Fi Player</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-102358307-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "UA-102358307-1");
    </script>

    <!-- import the webpage's stylesheet -->
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/nes.css@2.3.0/css/nes.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style.css" />

    <!-- favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/fire_1f525.png"
    />

    <!-- import the webpage's javascript file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.8.25/Tone.js"></script>
    <script src="https://unpkg.com/@tonejs/midi"></script>
    <script src="./libs/Tonejs-Instruments.js"></script>
    <script src="./script.js" defer></script>
  </head>
  <body>
    <div id="container">
      <div id="warning-overlay">
        <div id="warning-div" class="nes-balloon from-left">
          <p>
            Your screen is too small for the optimal experience. It's
            recommended to play on desktop with window wider than 700px. Watch
            the shared player on youtube stream where you can play with others
            together.
          </p>
          <div>
            <a
              href="https://www.youtube.com/watch?v=Ncukf00ZYu8"
              target="_blank"
            >
              <button id="youtube-button" class="nes-btn is-error">
                youtube live
              </button>
            </a>
            <button
              id="whatever-button"
              class="nes-btn"
              onclick="onClickWhatever()"
            >
              whatever
            </button>
          </div>
        </div>
      </div>

      <div id="canvas-div">
        <img src="./assets/rooom-0.png" alt="room" id="background-image" />
        <canvas id="main-canvas"> </canvas>
        <div id="canvas-overlay">
          <h1 id="title" class="nes-container is-rounded">Lo-Fi Player</h1>
          <button id="start-button" class="nes-btn">loading...</button>
        </div>
        <div id="melody-panel-div">
          <div id="melody-panel">
            <div class="panel" id="master-div">
              <h3 class="title">Master</h3>

              <div>
                <p>
                  <span>bpm</span>
                  <span id="bpm-value">75</span>
                </p>
                <input
                  type="range"
                  class="nes-progress"
                  id="bpm-input"
                  value="75"
                  min="60"
                  max="100"
                  step="5"
                />

                <br />
                <p>
                  <span>time</span>
                  <span id="check-time-text">0:0:0</span>
                </p>
                <progress
                  id="time-progress"
                  class="nes-progress"
                  value="0"
                  max="100"
                ></progress>

                <hr />
                <label>volume</label>
                <input
                  id="master-volume-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="100"
                  value="100"
                />
                <br />
                <label>reverb</label>
                <input
                  id="master-reverb-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="100"
                  value="0"
                />
                <br />
                <label>tone</label>
                <input
                  id="master-tone-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="100"
                  value="100"
                />
              </div>
            </div>
            <div class="panel" id="interpolation-div">
              <h3 class="nes-text">Create Your Melody!</h3>
              <div>
                <label>1st</label>
                <select id="first-melody-select">
                  <option value="0">chill</option>
                  <option value="1">dense</option>
                  <option value="2">sad</option>
                  <option value="3">moody</option>
                  <option value="4">RNN</option>
                </select>

                <label>2nd</label>
                <select id="second-melody-select">
                  <option value="0">chill</option>
                  <option value="1" selected>dense</option>
                  <option value="2">sad</option>
                  <option value="3">moody</option>
                </select>
              </div>

              <!-- <br /> -->

              <div>
                <label>1st</label>
                <input
                  id="interpolation-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="4"
                  step="1"
                  value="0"
                />
                <input
                  id="interpolation-slider-2"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="4"
                  step="1"
                  value="0"
                />
                <label>2nd</label>
              </div>

              <canvas id="melody-canvas"></canvas>
            </div>
            <div class="panel" id="bass-div">
              <h3>Bass</h3>
              <div>
                <label>volume</label>
                <input
                  id="bass-volume-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="100"
                  value="100"
                />
                <br />
                <label>tone</label>
                <input
                  id="bass-tone-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="100"
                  value="100"
                />
              </div>
            </div>
            <div class="panel" id="melody-div">
              <h3>Melody</h3>
              <div>
                <label>volume</label>
                <input
                  id="melody-volume-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="100"
                  value="100"
                />
                <br />
                <div>
                  <label>swing</label>
                  <input
                    id="melody-swing-slider"
                    type="range"
                    class="nes-progress"
                    min="0"
                    max="100"
                    value="0"
                  />
                </div>

                <label>instrument</label>
                <select id="melody-instrument-select">
                  <option value="0">synths</option>
                  <option value="1" selected>piano</option>
                  <option value="2">acoustic guitar</option>
                  <option value="3">electric guitar</option>
                </select>
              </div>
            </div>
            <div class="panel" id="chords-div">
              <h3>Chords</h3>
              <div>
                <label>volume</label>
                <input
                  id="chords-volume-slider"
                  type="range"
                  class="nes-progress"
                  min="0"
                  max="100"
                  value="100"
                />
                <br />
                <label>vibe</label>
                <select name="chords" id="chords-select">
                  <option value="0">mellow</option>
                  <option value="1">sad</option>
                  <option value="2">basic</option>
                  <!-- <option value="2">warm</option> -->
                  <!-- <option value="3">ninja</option> -->
                </select>

                <br />

                <label>instrument</label>
                <select name="chords-instrument" id="chords-instrument-select">
                  <option value="0">synths</option>
                  <option value="1">piano</option>
                  <option value="2">acoustic guitar</option>
                  <option value="3">electric guitar</option>
                </select>

                <div>
                  <label>swing</label>
                  <input
                    id="chords-swing-slider"
                    type="range"
                    class="nes-progress"
                    min="0"
                    max="100"
                    value="0"
                  />
                </div>
              </div>
            </div>

            <div class="panel" id="background-div">
              <h3>Background Sounds</h3>
              <select id="background-samples-select">
                <option value="0">Raindrops</option>
                <option value="1">Waves</option>
                <option value="2">City Street</option>
                <option value="3">Kids</option>
              </select>

              <!-- <h4>effects</h4> -->
              <hr />
              <label>volume</label>
              <input
                id="background-volume-slider"
                type="range"
                class="nes-progress"
                min="0"
                max="100"
                value="100"
              />
              <br />
              <label>tone</label>
              <input
                id="background-tone-slider"
                type="range"
                class="nes-progress"
                min="0"
                max="100"
                value="100"
              />
            </div>
            <div class="panel" id="drum-div">
              <h3>Drum</h3>
              <label>
                <input
                  type="checkbox"
                  id="drum-toggle"
                  class="nes-checkbox"
                  checked
                />
                <span>on/off</span>
              </label>
              <label>
                <input
                  type="checkbox"
                  id="drum-auto-toggle"
                  class="nes-checkbox"
                  checked
                />
                <span>auto</span>
              </label>
              <div>
                <select id="drum-patterns-select">
                  <option value="0">classic</option>
                  <option value="1">lazy</option>
                  <option value="2">dense</option>
                </select>
              </div>
            </div>

            <button class="melody-panel-button" id="melody-panel-close">
              X
            </button>
            <button class="melody-panel-button" id="melody-panel-right">
              >
            </button>
            <button class="melody-panel-button" id="melody-panel-left">
              &lt;
            </button>
          </div>
        </div>
      </div>

      <footer>
        <span style="color: white;">v.0.6</span>
      </footer>
    </div>
  </body>
</html>
